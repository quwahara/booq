<!DOCTYPE html>
<html>

<head>
  <title></title>
  <script src="trax.js"></script>
</head>

<body>
  <div>
    <div>
      <button type="button" id="b1">b1</button>
      <button type="button" id="b2">b2</button>
    </div>
    <div>
      <input type="text" class="tableName">
    </div>
    <div>
      <table>
        <thead>
          <tr>
            <th>fieldName</th>
            <th>type</th>
          </tr>
        </thead>
        <tbody class="fields">
          <tr>
            <td class="fieldName"></td>
            <td class="type"></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div id="div2">
      <span class="tableName"></span>
    </div>
  </div>
  <script>
    var xo;
    xo = new Trax.Xobject({
      tableName: "",
      fields: [{
        fieldName: "",
        type: "",
      }]
    });
    xo._bind("tableName");
    xo._bind("tableName", document.getElementById("div2"));
    xo._bind("fields");

    // var field;
    // console.log("b1-click");
    // field = xo.fields.newItem();
    // field.fieldName = new Date().toISOString();
    // field.type = "String";
    // xo.fields.push(field);

    document.getElementById("b1").addEventListener("click", function (event) {
      var field;
      console.log("b1-click");
      field = xo.fields.newItem();
      field.fieldName = new Date().toISOString();
      field.type = "String";
      xo.fields.push(field);
    });
    document.getElementById("b2").addEventListener("click", function (event) {
      console.log("b2-click");
      xo.tableName = new Date().toISOString();
    });
  </script>
</body>

</html>