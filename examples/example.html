<html>

<head>
  <script src="../booq.js"></script>
  <title>Example</title>
</head>

<body>
  <div>

    <h1>Example</h1>
    <div>
      <!-- Target elements to be bound -->

      <div class="exText"></div>

      <input type="text" name="exValue">

      <ul class="exEach">
        <li class="itemText"></li>
      </ul>

    </div>
    <script>
      window.onload = function () {

        // 1. Declare structs.
        var structs = {
          catalogue: {
            exText: "",
            exValue: "",
            exEach: [{
              itemText: ""
            }],
          }
        };

        // 2. Create Booq object from the structs.
        var booq = new Booq(structs);

        // Set value of catalogue.text to element.textContent if catalogue.text is changed.
        // The class attribute of the element must has 'text' to link. 
        booq.catalogue.exText.toText();

        // Set value of catalogue.value to element.value if catalogue.value is changed.
        // The name attribute of the element must be 'value' to be bound.
        // The element must be an input tag.
        // Set element.value to catalogue.value if element.value is changed.
        booq.catalogue.exValue.withValue();

        // The callback function, the argument of each(), 
        // will be called if catalogue.exEach has been received a value of array.
        // The catalogue.exEach of structs must be an array;
        booq.catalogue.exEach.each(function () {
          this.itemText.toText();
        });

        // 4. Put actual data to io, then the data will affect each elements.
        booq.data = {
          catalogue: {
            exText: "The text",
            exValue: "The value",
            exEach: [{
                itemText: "The item text 1"
              },
              {
                itemText: "The item text 2"
              },
              {
                itemText: "The item text 3"
              },
            ],
          }
        };
      };
    </script>
  </div>

</body>

</html>